\newcommand{\neuralx}[2]{\(x_#2\)}
\newcommand{\neuraly}[2]{\(\hat{y}_#2\)}
\newcommand{\neuralh}[2]{\small \(h^{(#1)}_#2\)}
\begin{figure}[ht]
  \centering
  \caption[An example of a neural network]{A simple neural network with three input nodes and two output nodes.}
  \begin{neuralnetwork}[height=5]
    \inputlayer[count=3, bias=false, title=Input\\layer, text=\neuralx]
    \hiddenlayer[count=4, bias=true, title=Hidden\\layer 1, text=\neuralh] \linklayers{}
    \hiddenlayer[count=3, bias=false, title=Hidden\\layer 2, text=\neuralh] \linklayers{}
    \outputlayer[count=2, title=Output\\layer, text=\neuraly] \linklayers{}
  \end{neuralnetwork}\label{fig:neural_network}
\end{figure}